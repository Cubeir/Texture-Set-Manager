<?xml version="1.0" encoding="utf-8"?>
<Window x:Class="Texture_Set_Manager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="using:Texture_Set_Manager"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        Title="Texture Set Manager"
        mc:Ignorable="d">
    
    <Window.SystemBackdrop>
        <DesktopAcrylicBackdrop />
    </Window.SystemBackdrop>

    <Grid x:Name="MainGrid">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*" />
            <ColumnDefinition Width="3*" />
        </Grid.ColumnDefinitions>

        <!-- Splash Blocker -->
        <Grid x:Name="SplashOverlay"
              Grid.ColumnSpan="2"
              Canvas.ZIndex="9999">
            <Grid.Background>
                <SolidColorBrush Color="{ThemeResource SolidBackgroundFillColorBase}" />
            </Grid.Background>

            <Viewbox HorizontalAlignment="Stretch"
                     VerticalAlignment="Stretch"
                     Margin="208, 164, 208, 164"
                     Stretch="Uniform">
                <Grid Width="256"
                      Height="256">
                    <!-- Halo - Bottom layer -->
                    <Image x:Name="SplashLampHalo"
                           Source="ms-appx:///Assets/icons/SplashScreen.Halo.png"
                           Width="1280"
                           Height="1280"
                           Margin="-512,-512,-512,-512"
                           Opacity="0.175"
                           Stretch="Uniform"
                           Canvas.ZIndex="1"
                           CacheMode="BitmapCache" />
                    <!-- Base "On" - Middle layer -->
                    <Image x:Name="SplashLamp"
                           Source="ms-appx:///Assets/icons/SplashScreen.Regular.png"
                           Width="192"
                           Height="192"
                           Opacity="1.0"
                           Stretch="Uniform"
                           Canvas.ZIndex="2"
                           CacheMode="BitmapCache" />
                    <!-- Super/Off overlay - Top layer -->
                    <Image x:Name="SplashLampSuper"
                           Source="ms-appx:///Assets/icons/SplashScreen.Super.png"
                           Width="192"
                           Height="192"
                           Opacity="0.0"
                           Stretch="Uniform"
                           Canvas.ZIndex="3"
                           CacheMode="BitmapCache" />
                </Grid>
            </Viewbox>
        </Grid>

        <!-- Light theme tint overlay -->
        <Border x:Name="LightThemeOverlay"
                Grid.ColumnSpan="2"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                IsHitTestVisible="False"
                Visibility="{ThemeResource LightThemeBackgroundVisibility}"
                Canvas.ZIndex="-1">
            <Border.Background>
                <SolidColorBrush Color="#24373737" />
            </Border.Background>
        </Border>

        <!-- Titlebar background -->
        <Grid Grid.ColumnSpan="2"
              HorizontalAlignment="Stretch"
              VerticalAlignment="Top"
              Height="35">
            <!-- Shadow receiver behind the titlebar) -->
            <Grid x:Name="TitleBarShadowReceiver" />
            <!-- Actual titlebar -->
            <Border x:Name="TitleBarBackground"
                    Height="37"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    Background="{ThemeResource CardBackgroundFillColorSecondary}"
                    BorderBrush="{ThemeResource HyperlinkButtonBorderThemeBrush}"
                    BorderThickness="0,0,0,6"
                    CornerRadius="0"
                    Translation="0,0,24"
                    IsHitTestVisible="False">
                <Border.Shadow>
                    <ThemeShadow x:Name="TitleBarShadow" />
                </Border.Shadow>
            </Border>

            <!-- Transparent drag area: covers whole titlebar except left 200px so your buttons keep receiving clicks -->
            <Border x:Name="TitleBarDragArea"
                    Margin="196,0,0,0"
                    Height="31"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    Background="Transparent"
                    IsHitTestVisible="False" />
        </Grid>

        <!-- Titlebar Center Content -->
        <Grid Grid.ColumnSpan="2"
              HorizontalAlignment="Center"
              VerticalAlignment="Top"
              Margin="0, -1, -1, 0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <Canvas Grid.Column="0"
                    Height="20"
                    Width="20"
                    VerticalAlignment="Center"
                    Margin="0,0,8,0"
                    CacheMode="BitmapCache"
                    Canvas.ZIndex="1">

                <!-- Base "On" image (always visible) -->
                <Image x:Name="iconImageBox"
                       Source="ms-appx:///Assets/logo.png"
                       Height="20"
                       Width="20"
                       Canvas.Top="1"
                       Opacity="1.0"
                       Canvas.ZIndex="3"
                       IsHitTestVisible="False"
                       CacheMode="BitmapCache" />
            </Canvas>

            <TextBlock x:Name="TitleBarText"
                       Text="Texture Set Manager"
                       Grid.Column="1"
                       Margin="0,6,0,5"
                       VerticalAlignment="Center"
                       Canvas.ZIndex="0"
                       FontWeight="Normal"
                       IsTextScaleFactorEnabled="False"
                       IsHitTestVisible="False" />
        </Grid>



        <!-- LEFT CONTENT AREA -->
        <Grid Grid.Column="0"
              x:Name="LeftContentGrid">
            <!-- Shadow receiver for left column -->
            <Grid x:Name="LeftShadowReceiver"
                  IsHitTestVisible="False"
                  Background="Transparent" />

            <!-- Titlebar Buttons -->
            <Border x:Name="CommandBarButtonsShadowReceiver"
                    Margin="-2,-2,16,0"
                    VerticalAlignment="Top"
                    Height="34"
                    Width="Auto"
                    Translation="0,0,0"
                    CornerRadius="4">
                <Border.Shadow>
                    <ThemeShadow x:Name="CommandBarShadow" />
                </Border.Shadow>
                <Grid Background="Transparent"
                      BorderBrush="Transparent"
                      BorderThickness="1"
                      CornerRadius="4">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <!-- Button -->
                        <ColumnDefinition Width="Auto" />
                        <!-- Separator -->
                        <ColumnDefinition Width="Auto" />
                        <!-- Button -->
                        <ColumnDefinition Width="Auto" />
                        <!-- Separator -->
                        <ColumnDefinition Width="Auto" />
                        <!-- Button -->
                        <ColumnDefinition Width="Auto" />
                        <!-- Separator -->
                        <ColumnDefinition Width="Auto" />
                        <!-- Button -->
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <!-- Chat Button -->
                    <Button x:Name="ChatButton"
                            Grid.Column="0"
                            FontFamily="Segoe Fluent Icons"
                            Style="{ThemeResource SubtleButtonStyle}"
                            Content="&#xE8F2;"
                            Width="42"
                            Height="35"
                            CornerRadius="0"
                            FontSize="14"
                            Background="Transparent"
                            BorderBrush="Transparent"
                            Click="ChatButton_Click"
                            ToolTipService.ToolTip="Invitation to the Vanilla RTX Discord server"
                            IsTextScaleFactorEnabled="False" />

                    <!-- Separator -->
                    <Border Grid.Column="1"
                            Width="1"
                            Margin="4,6,4,6"
                            Background="{ThemeResource DividerStrokeColorDefaultBrush}" />

                    <!-- Info/Help Button -->
                    <Button x:Name="HelpButton"
                            Grid.Column="2"
                            FontFamily="Segoe Fluent Icons"
                            Style="{StaticResource SubtleButtonStyle}"
                            Content="&#xE946;"
                            Width="43"
                            Height="35"
                            CornerRadius="0"
                            FontSize="16"
                            Click="HelpButton_Click"
                            PointerEntered="HelpButton_PointerEntered"
                            PointerExited="HelpButton_PointerExited"
                            ToolTipService.ToolTip="Documentation"
                            IsTextScaleFactorEnabled="False" />

                    <!-- Separator -->
                    <Border Grid.Column="3"
                            Width="1"
                            Margin="4,6,4,6"
                            Background="{ThemeResource DividerStrokeColorDefaultBrush}" />

                    <!-- Donate Button -->
                    <Button x:Name="DonateButton"
                            Grid.Column="4"
                            FontFamily="Segoe Fluent Icons"
                            Style="{StaticResource SubtleButtonStyle}"
                            Content="&#xEB51;"
                            Width="42"
                            Height="35"
                            CornerRadius="0"
                            FontSize="14"
                            Background="Transparent"
                            BorderBrush="Transparent"
                            Click="DonateButton_Click"
                            PointerEntered="DonateButton_PointerEntered"
                            PointerExited="DonateButton_PointerExited"
                            ToolTipService.ToolTip="Buy the developer some coffee, Vanilla RTX is free and continued, help keep it that way!"
                            IsTextScaleFactorEnabled="False" />

                    <!-- Separator -->
                    <Border Grid.Column="5"
                            Width="1"
                            Margin="4,6,4,6"
                            Background="{ThemeResource DividerStrokeColorDefaultBrush}" />

                    <!-- Theme Button -->
                    <Button x:Name="CycleThemeButton"
                            Grid.Column="6"
                            FontFamily="Segoe Fluent Icons"
                            Style="{StaticResource SubtleButtonStyle}"
                            Content="&#xEC46;"
                            Width="42"
                            Height="35"
                            CornerRadius="0"
                            FontSize="16"
                            Background="Transparent"
                            BorderBrush="Transparent"
                            Click="CycleThemeButton_Click"
                            ToolTipService.ToolTip="Theme: System"
                            IsTextScaleFactorEnabled="False" />
                </Grid>
            </Border>
            
        </Grid>
        

        <!-- RIGHT CONTENT AREA -->
        <Grid Grid.Column="1">
            <!-- Shadow receiver for right column -->
            <Grid x:Name="RightShadowReceiver"
                  IsHitTestVisible="False"
                  Background="Transparent" />
            
            <!-- Sidebar Log Box -->
            <Grid>
                <Border x:Name="SidebarLogShadowHost"
                        Margin="16,55,16,16"
                        VerticalAlignment="Stretch"
                        HorizontalAlignment="Stretch"
                        Translation="0,0,64"
                        BorderThickness="0"
                        CornerRadius="6">
                    <Border.Shadow>
                        <ThemeShadow x:Name="SidebarLogShadow" />
                    </Border.Shadow>
                </Border>

                <!-- Textbox -->
                <TextBox x:Name="SidebarLog"
                         Margin="16,55,16,16"
                         VerticalAlignment="Stretch"
                         HorizontalAlignment="Stretch"
                         TextWrapping="Wrap"
                         IsTabStop="False"
                         AcceptsReturn="True"
                         IsReadOnly="True"
                         AllowFocusOnInteraction="True"
                         ScrollViewer.VerticalScrollBarVisibility="Auto"
                         Padding="12,12,12,138"
                         IsTextScaleFactorEnabled="False"
                         ToolTipService.ToolTip="Relevant logs appear here to inform, guide, or warn the user while using the app. Double click the art area to copy logs to clipboard." />
            </Grid>

            <!-- Progress Bar -->
            <ProgressBar x:Name="ProgressBar"
                         Margin="16,55,16,0"
                         VerticalAlignment="Top"
                         HorizontalAlignment="Stretch"
                         IsIndeterminate="False"
                         ShowPaused="False"
                         ShowError="False" />


        </Grid>
              
        
        
    </Grid>
</Window>
